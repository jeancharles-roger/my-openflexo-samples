<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" modelVersion="1.0" version="0.1" name="Data" userID="FLX" flexoID="4">
  <FlexoConcept id="1" name="Client" userID="FLX" flexoID="12">
    <PrimitiveRole id="2" primitiveType="String" cloningStrategy="Clone" cardinality="ZeroOne" name="id" userID="FLX" flexoID="18" />
    <JDBCLineRole id="3" container="virtualModelInstance" cloningStrategy="Reference" cardinality="ZeroOne" name="line" userID="FLX" flexoID="17">
      <JDBCModelSlot idref="4" />
    </JDBCLineRole>
    <ExpressionProperty id="5" expression="line.getValue(&quot;salesman&quot;).value" name="salesmanId" userID="FLX" description="" flexoID="134" />
    <ExpressionProperty id="6" expression="line.getValue(&quot;address&quot;).value" name="address" userID="FLX" flexoID="158" />
    <ExpressionProperty id="7" expression="line.getValue(&quot;name&quot;).value" name="name" userID="FLX" flexoID="159" />
    <ExpressionProperty id="8" expression="line.getValue(&quot;lastmeeting&quot;).value" name="date" userID="FLX" flexoID="191" />
    <ExpressionProperty id="9" expression="line.getValue(&quot;comments&quot;).value" name="comments" userID="FLX" flexoID="192" />
    <CreationScheme id="10" name="create" width="800" label="create" height="600" userID="FLX" flexoID="10">
      <BehaviourControlGraph_Sequence id="11" userID="FLX" flexoID="24">
        <ControlGraph2_AssignationAction id="12" assign="id" ownerContext="controlGraph2" userID="FLX" flexoID="23">
          <AssignableAction_ExpressionAction id="13" expression="line.getValue(&quot;id&quot;).value" userID="FLX" flexoID="22" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="14" assign="line" ownerContext="controlGraph1" userID="FLX" flexoID="21">
          <AssignableAction_ExpressionAction id="15" expression="parameters.line" userID="FLX" flexoID="20" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="16" container="virtualModelInstance" widget="CUSTOM_WIDGET" name="line" type="org.openflexo.technologyadapter.jdbc.model.JDBCLine" userID="FLX" flexoID="19" />
    </CreationScheme>
    <DeletionScheme id="17" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="11">
      <BehaviourControlGraph_DeleteAction id="18" object="line" userID="FLX" flexoID="308" />
    </DeletionScheme>
    <Inspector id="19" renderer="((name + &quot;: &quot;) + address)" inspectorTitle="Client" userID="FLX" flexoID="7">
      <GenericInspectorEntry id="20" container="flexoConceptInstance" widget="TEXT_FIELD" data="name" name="name" label="name" type="java.lang.String" userID="FLX" flexoID="167" />
      <GenericInspectorEntry id="21" container="flexoConceptInstance" widget="TEXT_FIELD" data="address" name="address" label="address" type="java.lang.String" userID="FLX" flexoID="168" />
      <GenericInspectorEntry id="22" widget="TEXT_FIELD" data="comments" name="comments" label="comments" type="java.lang.String" userID="FLX" flexoID="296" />
      <GenericInspectorEntry id="23" widget="TEXT_FIELD" data="salesmanId" name="Salesman Id" label="Salesman Id" type="java.lang.String" userID="FLX" flexoID="302" />
    </Inspector>
  </FlexoConcept>
  <FlexoConcept id="24" name="Salesman" userID="FLX" flexoID="33">
    <PrimitiveRole id="25" primitiveType="String" cloningStrategy="Clone" cardinality="ZeroOne" name="id" userID="FLX" flexoID="38" />
    <JDBCLineRole id="26" container="virtualModelInstance" cloningStrategy="Reference" cardinality="ZeroOne" name="line" userID="FLX" flexoID="39">
      <JDBCModelSlot idref="4" />
    </JDBCLineRole>
    <GetSetProperty id="27" name="clients" userID="FLX" description="" flexoID="86">
      <SetControlGraph_EmptyControlGraph id="28" ownerContext="setControlGraph" userID="FLX" flexoID="87" />
      <GetControlGraph_ReturnStatement id="29" ownerContext="getControlGraph" userID="FLX" flexoID="150">
        <AssignableAction_SelectFlexoConceptInstance id="30" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" userID="FLX" flexoID="148">
          <Condition id="31" condition="(selected.salesmanId = id)" userID="FLX" flexoID="149" />
        </AssignableAction_SelectFlexoConceptInstance>
      </GetControlGraph_ReturnStatement>
    </GetSetProperty>
    <ExpressionProperty id="32" expression="line.getValue(&quot;firstname&quot;).value" name="firstname" userID="FLX" flexoID="125" />
    <ExpressionProperty id="33" expression="line.getValue(&quot;lastname&quot;).value" name="lastname" userID="FLX" flexoID="126" />
    <FlexoConceptInstanceRole id="34" virtualModelInstance="view" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/VisitPlan" container="view" cloningStrategy="Reference" cardinality="ZeroOne" name="visitPlan" userID="FLX" flexoID="180" />
    <CreationScheme id="35" name="create" width="800" label="create" height="600" userID="FLX" flexoID="31">
      <BehaviourControlGraph_Sequence id="36" userID="FLX" flexoID="45">
        <ControlGraph2_AssignationAction id="37" assign="id" ownerContext="controlGraph2" userID="FLX" flexoID="44">
          <AssignableAction_ExpressionAction id="38" expression="line.getValue(&quot;id&quot;).value" userID="FLX" flexoID="43" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="39" assign="line" ownerContext="controlGraph1" userID="FLX" flexoID="42">
          <AssignableAction_ExpressionAction id="40" expression="parameters.line" userID="FLX" flexoID="41" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="41" container="virtualModelInstance" widget="CUSTOM_WIDGET" name="line" type="org.openflexo.technologyadapter.jdbc.model.JDBCLine" userID="FLX" flexoID="40" />
    </CreationScheme>
    <DeletionScheme id="42" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="32">
      <BehaviourControlGraph_DeleteAction id="43" object="line" userID="FLX" flexoID="312" />
    </DeletionScheme>
    <ActionScheme id="44" name="createVisitPlan" width="800" label="createVisitPlan" height="600" userID="FLX" flexoID="176">
      <BehaviourControlGraph_Sequence id="45" userID="FLX" flexoID="203">
        <ControlGraph2_ExpressionAction id="46" expression="visitPlan.initVisitPlan()" ownerContext="controlGraph2" userID="FLX" flexoID="202" />
        <ControlGraph1_ConditionalAction id="47" condition="(visitPlan = null)" ownerContext="controlGraph1" userID="FLX" flexoID="184">
          <ElseControlGraph_EmptyControlGraph id="48" ownerContext="elseControlGraph" userID="FLX" flexoID="204" />
          <ThenControlGraph_AssignationAction id="49" assign="visitPlan" ownerContext="thenControlGraph" userID="FLX" flexoID="188">
            <AssignableAction_AddVirtualModelInstance id="50" virtualModelInstanceTitle="(&quot;VisitPlan_&quot; + lastname)" virtualModelInstanceName="(&quot;VisitPlan_&quot; + lastname)" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/VisitPlan.create" virtualModelInstance="view" userID="FLX" flexoID="187">
              <AddFlexoConceptInstanceParameter id="51" paramName="salesman" value="flexoConceptInstance" userID="FLX" flexoID="69" />
            </AssignableAction_AddVirtualModelInstance>
          </ThenControlGraph_AssignationAction>
        </ControlGraph1_ConditionalAction>
      </BehaviourControlGraph_Sequence>
    </ActionScheme>
    <ActionScheme id="52" name="synchronizeVisitPlan" width="800" label="synchronizeVisitPlan" height="600" userID="FLX" flexoID="210">
      <BehaviourControlGraph_ConditionalAction id="53" condition="(visitPlan != null)" userID="FLX" flexoID="213">
        <ThenControlGraph_ExpressionAction id="54" expression="visitPlan.resyncNotes()" ownerContext="thenControlGraph" userID="FLX" flexoID="215" />
      </BehaviourControlGraph_ConditionalAction>
    </ActionScheme>
    <Inspector id="55" renderer="((firstname + &quot; &quot;) + lastname)" inspectorTitle="Salesman" userID="FLX" flexoID="28">
      <GenericInspectorEntry id="56" readOnly="true" widget="TEXT_FIELD" data="firstname" name="firstname" label="firstname" type="java.lang.String" userID="FLX" flexoID="169" />
      <GenericInspectorEntry id="57" readOnly="true" widget="TEXT_FIELD" data="lastname" name="lastname" label="lastname" type="java.lang.String" userID="FLX" flexoID="170" />
    </Inspector>
  </FlexoConcept>
  <ModelSlot_JDBCModelSlot id="4" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="db" userID="FLX" flexoID="6">
    <JDBCModelSlot idref="4" />
  </ModelSlot_JDBCModelSlot>
  <GetSetProperty id="58" name="clients" userID="FLX" flexoID="94">
    <SetControlGraph_EmptyControlGraph id="59" ownerContext="setControlGraph" userID="FLX" flexoID="95" />
    <GetControlGraph_ReturnStatement id="60" ownerContext="getControlGraph" userID="FLX" flexoID="98">
      <AssignableAction_SelectFlexoConceptInstance id="61" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" userID="FLX" flexoID="97" />
    </GetControlGraph_ReturnStatement>
  </GetSetProperty>
  <GetSetProperty id="62" name="salesmen" userID="FLX" flexoID="99">
    <SetControlGraph_EmptyControlGraph id="63" ownerContext="setControlGraph" userID="FLX" flexoID="103" />
    <GetControlGraph_ReturnStatement id="64" ownerContext="getControlGraph" userID="FLX" flexoID="102">
      <AssignableAction_SelectFlexoConceptInstance id="65" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman" userID="FLX" flexoID="101" />
    </GetControlGraph_ReturnStatement>
  </GetSetProperty>
  <CreationScheme id="66" name="create" width="800" label="create" height="600" userID="FLX" flexoID="46">
    <BehaviourControlGraph_AssignationAction id="67" assign="db" userID="FLX" flexoID="50">
      <AssignableAction_CreateJDBCResource id="68" resourceCenter="resourceCenter" relativePath="jdbc" resourceName="&quot;connection.jdbc&quot;" userID="FLX" flexoID="49">
        <JDBCModelSlot idref="4" />
      </AssignableAction_CreateJDBCResource>
    </BehaviourControlGraph_AssignationAction>
    <GenericBehaviourParameter id="69" isRequired="true" widget="TEXT_FIELD" name="address" type="java.lang.String" userID="FLX" flexoID="51" />
  </CreationScheme>
  <SynchronizationScheme id="70" name="synchronizationScheme" width="800" label="synchronizationScheme" height="600" userID="FLX" flexoID="53">
    <BehaviourControlGraph_Sequence id="71" userID="FLX" flexoID="75">
      <ControlGraph2_IterationAction id="72" iteratorName="item" ownerContext="controlGraph2" userID="FLX" flexoID="66">
        <Iteration_ExpressionAction id="73" expression="db.schema.getTable(&quot;SALESMAN&quot;).selectAll().lines" ownerContext="iterationControlGraph" userID="FLX" flexoID="68" />
        <ControlGraph_MatchFlexoConceptInstance id="74" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman.create" virtualModelInstance="virtualModelInstance" ownerContext="controlGraph" userID="FLX" flexoID="71">
          <MatchingCriteria id="75" patternRoleName="id" value="item.getValue(&quot;id&quot;).value" userID="FLX" flexoID="73" />
          <MatchingCriteria id="76" patternRoleName="line" userID="FLX" flexoID="74" />
          <CreateFlexoConceptInstanceParameter id="77" paramName="line" value="item" userID="FLX" flexoID="72" />
        </ControlGraph_MatchFlexoConceptInstance>
      </ControlGraph2_IterationAction>
      <ControlGraph1_IterationAction id="78" iteratorName="item" ownerContext="controlGraph1" userID="FLX" flexoID="56">
        <Iteration_ExpressionAction id="79" expression="db.schema.getTable(&quot;CLIENT&quot;).selectAll().lines" ownerContext="iterationControlGraph" userID="FLX" flexoID="59" />
        <ControlGraph_Sequence id="80" ownerContext="controlGraph" userID="FLX" flexoID="329">
          <ControlGraph2_AssignationAction id="81" assign="client.line" ownerContext="controlGraph2" userID="FLX" flexoID="328">
            <AssignableAction_ExpressionAction id="82" expression="item" userID="FLX" flexoID="327" />
          </ControlGraph2_AssignationAction>
          <ControlGraph1_DeclarationAction id="83" variable="client" ownerContext="controlGraph1" userID="FLX" flexoID="326">
            <AssignableAction_MatchFlexoConceptInstance id="84" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client.create" virtualModelInstance="virtualModelInstance" userID="FLX" flexoID="317">
              <MatchingCriteria id="85" patternRoleName="id" value="item.getValue(&quot;id&quot;).value" userID="FLX" flexoID="319" />
              <MatchingCriteria id="86" patternRoleName="line" userID="FLX" flexoID="320" />
              <MatchingCriteria id="87" patternRoleName="salesmanId" userID="FLX" flexoID="321" />
              <MatchingCriteria id="88" patternRoleName="address" userID="FLX" flexoID="322" />
              <MatchingCriteria id="89" patternRoleName="name" userID="FLX" flexoID="323" />
              <MatchingCriteria id="90" patternRoleName="date" userID="FLX" flexoID="324" />
              <MatchingCriteria id="91" patternRoleName="comments" userID="FLX" flexoID="325" />
              <CreateFlexoConceptInstanceParameter id="92" paramName="line" value="item" userID="FLX" flexoID="318" />
            </AssignableAction_MatchFlexoConceptInstance>
          </ControlGraph1_DeclarationAction>
        </ControlGraph_Sequence>
      </ControlGraph1_IterationAction>
    </BehaviourControlGraph_Sequence>
  </SynchronizationScheme>
  <DeletionScheme id="93" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="138">
    <BehaviourControlGraph_EmptyControlGraph id="94" userID="FLX" flexoID="137" />
  </DeletionScheme>
  <Inspector id="95" inspectorTitle="Data" userID="FLX" flexoID="1" />
</VirtualModel>
