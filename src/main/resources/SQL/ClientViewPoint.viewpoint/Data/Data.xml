<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" modelVersion="1.0" version="0.1" name="Data" userID="FLX" flexoID="4">
  <FlexoConcept id="1" name="Client" userID="FLX" flexoID="12">
    <PrimitiveRole id="2" primitiveType="String" cloningStrategy="Clone" cardinality="ZeroOne" name="id" userID="FLX" flexoID="18" />
    <JDBCLineRole id="3" container="virtualModelInstance" cloningStrategy="Reference" cardinality="ZeroOne" name="line" userID="FLX" flexoID="17">
      <JDBCModelSlot idref="4" />
    </JDBCLineRole>
    <ExpressionProperty id="5" expression="line.getValue(&quot;salesman&quot;).value" name="salesmanId" userID="FLX" description="" flexoID="134" />
    <ExpressionProperty id="6" expression="line.getValue(&quot;address&quot;).value" name="address" userID="FLX" flexoID="158" />
    <ExpressionProperty id="7" expression="line.getValue(&quot;name&quot;).value" name="name" userID="FLX" flexoID="159" />
    <ExpressionProperty id="8" expression="line.getValue(&quot;lastmeeting&quot;).value" name="date" userID="FLX" flexoID="191" />
    <ExpressionProperty id="9" expression="line.getValue(&quot;comments&quot;).value" name="comments" userID="FLX" flexoID="192" />
    <CreationScheme id="10" name="create" width="800" label="create" height="600" userID="FLX" flexoID="10">
      <BehaviourControlGraph_Sequence id="11" userID="FLX" flexoID="24">
        <ControlGraph2_AssignationAction id="12" assign="id" ownerContext="controlGraph2" userID="FLX" flexoID="23">
          <AssignableAction_ExpressionAction id="13" expression="line.getValue(&quot;id&quot;).value" userID="FLX" flexoID="22" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="14" assign="line" ownerContext="controlGraph1" userID="FLX" flexoID="21">
          <AssignableAction_ExpressionAction id="15" expression="parameters.line" userID="FLX" flexoID="20" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="16" container="virtualModelInstance" widget="CUSTOM_WIDGET" name="line" type="org.openflexo.technologyadapter.jdbc.model.JDBCLine" userID="FLX" flexoID="19" />
    </CreationScheme>
    <DeletionScheme id="17" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="11">
      <BehaviourControlGraph_DeleteAction id="18" object="line" userID="FLX" flexoID="308" />
    </DeletionScheme>
    <Inspector id="19" renderer="((name + &quot;: &quot;) + address)" inspectorTitle="Client" userID="FLX" flexoID="7">
      <GenericInspectorEntry id="20" container="flexoConceptInstance" widget="TEXT_FIELD" data="name" name="name" label="name" type="java.lang.String" userID="FLX" flexoID="167" />
      <GenericInspectorEntry id="21" container="flexoConceptInstance" widget="TEXT_FIELD" data="address" name="address" label="address" type="java.lang.String" userID="FLX" flexoID="168" />
      <GenericInspectorEntry id="22" widget="TEXT_FIELD" data="comments" name="comments" label="comments" type="java.lang.String" userID="FLX" flexoID="296" />
      <GenericInspectorEntry id="23" widget="TEXT_FIELD" data="salesmanId" name="Salesman Id" label="Salesman Id" type="java.lang.String" userID="FLX" flexoID="302" />
    </Inspector>
  </FlexoConcept>
  <FlexoConcept id="24" name="Salesman" userID="FLX" flexoID="33">
    <PrimitiveRole id="25" primitiveType="String" cloningStrategy="Clone" cardinality="ZeroOne" name="id" userID="FLX" flexoID="38" />
    <JDBCLineRole id="26" container="virtualModelInstance" cloningStrategy="Reference" cardinality="ZeroOne" name="line" userID="FLX" flexoID="39">
      <JDBCModelSlot idref="4" />
    </JDBCLineRole>
    <GetSetProperty id="27" name="clients" userID="FLX" description="" flexoID="86">
      <SetControlGraph_EmptyControlGraph id="28" ownerContext="setControlGraph" userID="FLX" flexoID="87" />
      <GetControlGraph_ReturnStatement id="29" ownerContext="getControlGraph" userID="FLX" flexoID="150">
        <AssignableAction_SelectFlexoConceptInstance id="30" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" userID="FLX" flexoID="148">
          <Condition id="31" condition="(selected.salesmanId = id)" userID="FLX" flexoID="149" />
        </AssignableAction_SelectFlexoConceptInstance>
      </GetControlGraph_ReturnStatement>
    </GetSetProperty>
    <ExpressionProperty id="32" expression="line.getValue(&quot;firstname&quot;).value" name="firstname" userID="FLX" flexoID="125" />
    <ExpressionProperty id="33" expression="line.getValue(&quot;lastname&quot;).value" name="lastname" userID="FLX" flexoID="126" />
    <FlexoConceptInstanceRole id="34" virtualModelInstance="view" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/VisitPlan" container="view" cloningStrategy="Reference" cardinality="ZeroOne" name="visitPlan" userID="FLX" flexoID="180" />
    <CreationScheme id="35" name="create" width="800" label="create" height="600" userID="FLX" flexoID="31">
      <BehaviourControlGraph_Sequence id="36" userID="FLX" flexoID="45">
        <ControlGraph2_AssignationAction id="37" assign="id" ownerContext="controlGraph2" userID="FLX" flexoID="44">
          <AssignableAction_ExpressionAction id="38" expression="line.getValue(&quot;id&quot;).value" userID="FLX" flexoID="43" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="39" assign="line" ownerContext="controlGraph1" userID="FLX" flexoID="42">
          <AssignableAction_ExpressionAction id="40" expression="parameters.line" userID="FLX" flexoID="41" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="41" container="virtualModelInstance" widget="CUSTOM_WIDGET" name="line" type="org.openflexo.technologyadapter.jdbc.model.JDBCLine" userID="FLX" flexoID="40" />
    </CreationScheme>
    <DeletionScheme id="42" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="32">
      <BehaviourControlGraph_DeleteAction id="43" object="line" userID="FLX" flexoID="312" />
    </DeletionScheme>
    <ActionScheme id="44" name="createVisitPlan" width="800" label="createVisitPlan" height="600" userID="FLX" flexoID="176">
      <BehaviourControlGraph_Sequence id="45" userID="FLX" flexoID="203">
        <ControlGraph2_ExpressionAction id="46" expression="visitPlan.initVisitPlan()" ownerContext="controlGraph2" userID="FLX" flexoID="202" />
        <ControlGraph1_ConditionalAction id="47" condition="(visitPlan = null)" ownerContext="controlGraph1" userID="FLX" flexoID="184">
          <ElseControlGraph_EmptyControlGraph id="48" ownerContext="elseControlGraph" userID="FLX" flexoID="204" />
          <ThenControlGraph_AssignationAction id="49" assign="visitPlan" ownerContext="thenControlGraph" userID="FLX" flexoID="188">
            <AssignableAction_AddVirtualModelInstance id="50" virtualModelInstanceTitle="(&quot;VisitPlan_&quot; + lastname)" virtualModelInstanceName="(&quot;VisitPlan_&quot; + lastname)" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/VisitPlan.create" virtualModelInstance="view" userID="FLX" flexoID="187">
              <AddFlexoConceptInstanceParameter id="51" paramName="salesman" value="flexoConceptInstance" userID="FLX" flexoID="69" />
            </AssignableAction_AddVirtualModelInstance>
          </ThenControlGraph_AssignationAction>
        </ControlGraph1_ConditionalAction>
      </BehaviourControlGraph_Sequence>
    </ActionScheme>
    <ActionScheme id="52" name="synchronizeVisitPlan" width="800" label="synchronizeVisitPlan" height="600" userID="FLX" flexoID="210">
      <BehaviourControlGraph_ConditionalAction id="53" condition="(visitPlan != null)" userID="FLX" flexoID="213">
        <ThenControlGraph_ExpressionAction id="54" expression="visitPlan.resyncNotes()" ownerContext="thenControlGraph" userID="FLX" flexoID="215" />
      </BehaviourControlGraph_ConditionalAction>
    </ActionScheme>
    <Inspector id="55" renderer="((firstname + &quot; &quot;) + lastname)" inspectorTitle="Salesman" userID="FLX" flexoID="28">
      <GenericInspectorEntry id="56" widget="TEXT_FIELD" data="firstname" name="firstname" label="firstname" type="java.lang.String" userID="FLX" flexoID="169" />
      <GenericInspectorEntry id="57" widget="TEXT_FIELD" data="lastname" name="lastname" label="lastname" type="java.lang.String" userID="FLX" flexoID="170" />
    </Inspector>
  </FlexoConcept>
  <ModelSlot_JDBCModelSlot id="4" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="db" userID="FLX" flexoID="6">
    <JDBCModelSlot idref="4" />
  </ModelSlot_JDBCModelSlot>
  <GetSetProperty id="58" name="clients" userID="FLX" flexoID="94">
    <SetControlGraph_EmptyControlGraph id="59" ownerContext="setControlGraph" userID="FLX" flexoID="95" />
    <GetControlGraph_ReturnStatement id="60" ownerContext="getControlGraph" userID="FLX" flexoID="98">
      <AssignableAction_SelectFlexoConceptInstance id="61" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" userID="FLX" flexoID="97" />
    </GetControlGraph_ReturnStatement>
  </GetSetProperty>
  <GetSetProperty id="62" name="salesmen" userID="FLX" flexoID="99">
    <SetControlGraph_EmptyControlGraph id="63" ownerContext="setControlGraph" userID="FLX" flexoID="103" />
    <GetControlGraph_ReturnStatement id="64" ownerContext="getControlGraph" userID="FLX" flexoID="102">
      <AssignableAction_SelectFlexoConceptInstance id="65" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman" userID="FLX" flexoID="101" />
    </GetControlGraph_ReturnStatement>
  </GetSetProperty>
  <CreationScheme id="66" name="create" width="800" label="create" height="600" userID="FLX" flexoID="46">
    <BehaviourControlGraph_AssignationAction id="67" assign="db" userID="FLX" flexoID="50">
      <AssignableAction_CreateJDBCResource id="68" resourceCenter="resourceCenter" relativePath="jdbc" resourceName="&quot;connection.jdbc&quot;" userID="FLX" flexoID="49">
        <JDBCModelSlot idref="4" />
      </AssignableAction_CreateJDBCResource>
    </BehaviourControlGraph_AssignationAction>
    <GenericBehaviourParameter id="69" isRequired="true" widget="TEXT_FIELD" name="address" type="java.lang.String" userID="FLX" flexoID="51" />
  </CreationScheme>
  <SynchronizationScheme id="70" name="synchronizationScheme" width="800" label="synchronizationScheme" height="600" userID="FLX" flexoID="53">
    <BehaviourControlGraph_ExpressionAction id="71" expression="virtualModelInstance.synchronize()" ownerContext="controlGraph2" userID="FLX" flexoID="392" />
  </SynchronizationScheme>
  <DeletionScheme id="72" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="138">
    <BehaviourControlGraph_EmptyControlGraph id="73" userID="FLX" flexoID="137" />
  </DeletionScheme>
  <ActionScheme id="74" name="synchronize" width="800" label="synchronize" height="600" userID="FLX" description="Synchronize" flexoID="333">
    <BehaviourControlGraph_Sequence id="75" userID="FLX" flexoID="363">
      <ControlGraph2_Sequence id="76" ownerContext="controlGraph2" userID="FLX" flexoID="362">
        <ControlGraph2_Sequence id="77" ownerContext="controlGraph2" userID="FLX" flexoID="390">
          <ControlGraph2_Sequence id="78" ownerContext="controlGraph2" userID="FLX" flexoID="389">
            <ControlGraph2_Sequence id="79" ownerContext="controlGraph2" userID="FLX" flexoID="388">
              <ControlGraph2_FinalizeMatching id="80" container="virtualModelInstance" flexoBehaviourURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman.delete" matchingSet="salesmanSet" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman" ownerContext="controlGraph2" userID="FLX" flexoID="386" />
              <ControlGraph1_IterationAction id="81" iteratorName="item" ownerContext="controlGraph1" userID="FLX" flexoID="370">
                <Iteration_ExpressionAction id="82" expression="db.schema.getTable(&quot;SALESMAN&quot;).selectAll().lines" ownerContext="iterationControlGraph" userID="FLX" flexoID="372" />
                <ControlGraph_Sequence id="83" ownerContext="controlGraph" userID="FLX" flexoID="387">
                  <ControlGraph2_AssignationAction id="84" assign="saleman.line" ownerContext="controlGraph2" userID="FLX" flexoID="384">
                    <AssignableAction_ExpressionAction id="85" expression="item" userID="FLX" flexoID="383" />
                  </ControlGraph2_AssignationAction>
                  <ControlGraph1_DeclarationAction id="86" variable="saleman" ownerContext="controlGraph1" userID="FLX" flexoID="381">
                    <AssignableAction_MatchFlexoConceptInstance id="87" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman.create" matchingSet="salesmanSet" virtualModelInstance="virtualModelInstance" userID="FLX" flexoID="374">
                      <MatchingCriteria id="88" patternRoleName="id" value="item.getValue(&quot;id&quot;).value" userID="FLX" flexoID="376" />
                      <MatchingCriteria id="89" patternRoleName="line" userID="FLX" flexoID="377" />
                      <MatchingCriteria id="90" patternRoleName="clients" userID="FLX" flexoID="378" />
                      <MatchingCriteria id="91" patternRoleName="firstname" userID="FLX" flexoID="379" />
                      <MatchingCriteria id="92" patternRoleName="lastname" userID="FLX" flexoID="380" />
                      <MatchingCriteria id="93" patternRoleName="visitPlan" userID="FLX" flexoID="382" />
                      <CreateFlexoConceptInstanceParameter id="94" paramName="line" value="item" userID="FLX" flexoID="375" />
                    </AssignableAction_MatchFlexoConceptInstance>
                  </ControlGraph1_DeclarationAction>
                </ControlGraph_Sequence>
              </ControlGraph1_IterationAction>
            </ControlGraph2_Sequence>
            <ControlGraph1_DeclarationAction id="95" variable="salesmanSet" ownerContext="controlGraph1" userID="FLX" flexoID="368">
              <AssignableAction_InitiateMatching id="96" container="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman" userID="FLX" flexoID="367" />
            </ControlGraph1_DeclarationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_FinalizeMatching id="97" container="virtualModelInstance" flexoBehaviourURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client.delete" matchingSet="clientSet" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" ownerContext="controlGraph1" userID="FLX" flexoID="360" />
        </ControlGraph2_Sequence>
        <ControlGraph1_IterationAction id="98" iteratorName="item" ownerContext="controlGraph1" userID="FLX" flexoID="343">
          <Iteration_ExpressionAction id="99" expression="db.schema.getTable(&quot;CLIENT&quot;).selectAll().lines" ownerContext="iterationControlGraph" userID="FLX" flexoID="345" />
          <ControlGraph_Sequence id="100" ownerContext="controlGraph" userID="FLX" flexoID="361">
            <ControlGraph2_AssignationAction id="101" assign="client.line" ownerContext="controlGraph2" userID="FLX" flexoID="358">
              <AssignableAction_ExpressionAction id="102" expression="item" userID="FLX" flexoID="357" />
            </ControlGraph2_AssignationAction>
            <ControlGraph1_DeclarationAction id="103" variable="client" ownerContext="controlGraph1" userID="FLX" flexoID="354">
              <AssignableAction_MatchFlexoConceptInstance id="104" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client.create" matchingSet="clientSet" virtualModelInstance="virtualModelInstance" userID="FLX" flexoID="347">
                <MatchingCriteria id="105" patternRoleName="id" value="item.getValue(&quot;id&quot;).value" userID="FLX" flexoID="349" />
                <MatchingCriteria id="106" patternRoleName="line" userID="FLX" flexoID="350" />
                <MatchingCriteria id="107" patternRoleName="salesmanId" userID="FLX" flexoID="351" />
                <MatchingCriteria id="108" patternRoleName="address" userID="FLX" flexoID="352" />
                <MatchingCriteria id="109" patternRoleName="name" userID="FLX" flexoID="353" />
                <MatchingCriteria id="110" patternRoleName="date" userID="FLX" flexoID="355" />
                <MatchingCriteria id="111" patternRoleName="comments" userID="FLX" flexoID="356" />
                <CreateFlexoConceptInstanceParameter id="112" paramName="line" value="item" userID="FLX" flexoID="348" />
              </AssignableAction_MatchFlexoConceptInstance>
            </ControlGraph1_DeclarationAction>
          </ControlGraph_Sequence>
        </ControlGraph1_IterationAction>
      </ControlGraph2_Sequence>
      <ControlGraph1_DeclarationAction id="113" variable="clientSet" ownerContext="controlGraph1" userID="FLX" flexoID="338">
        <AssignableAction_InitiateMatching id="114" container="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" userID="FLX" flexoID="337" />
      </ControlGraph1_DeclarationAction>
    </BehaviourControlGraph_Sequence>
  </ActionScheme>
  <Inspector id="115" inspectorTitle="Data" userID="FLX" flexoID="1" />
</VirtualModel>
