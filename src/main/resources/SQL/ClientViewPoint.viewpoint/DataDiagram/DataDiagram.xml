<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" modelVersion="1.0" version="0.1" name="DataDiagram" userID="FLX" flexoID="2">
  <FlexoConcept id="1" name="ClientGR" userID="FLX" flexoID="19">
    <ShapeRole id="2" exampleLabel="Client1" cloningStrategy="Clone" cardinality="ZeroOne" name="shape" userID="FLX" flexoID="26">
      <ShapeGraphicalRepresentation id="3" relativeTextY="0.5" locationConstraints="FREELY_MOVABLE" isFloatingLabel="false" allowToLeaveBounds="false" adaptBoundsToContents="false" x="71.59090909090908" y="62.142857142857146" relativeTextX="0.5" dimensionConstraints="FREELY_RESIZABLE" width="106.81818181818184" height="75.71428571428571" identifier="4202093b" layer="1">
        <SelectedColorBackgroundStyle id="4" color="254,247,217" transparencyLevel="0.5" />
        <ForegroundStyle id="5" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="6" color="254,247,217" transparencyLevel="0.5" />
        <ShadowStyle id="7" />
        <FocusedForegroundStyle id="8" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="9" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <ColorBackgroundStyle id="10" color="254,247,217" transparencyLevel="0.5" />
        <RectangleShape id="11" isRounded="true" arcSize="20.0" />
        <TextStyle id="12" backgroundColor="255,255,255" color="0,0,0" font="Lucida Sans,0,11" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="13" featureName="label" value="client.name" userID="FLX" flexoID="505" />
      <TypedDiagramModelSlot idref="14" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="31" virtualModelInstance="data" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" cloningStrategy="Reference" cardinality="ZeroOne" name="client" userID="FLX" flexoID="33" />
    <DropScheme id="16" target="top" name="dropClientGRAtTopLevel" width="800" label="dropClientGRAtTopLevel" height="600" userID="FLX" flexoID="18">
      <BehaviourControlGraph_Sequence id="17" userID="FLX" flexoID="31">
        <ControlGraph2_AssignationAction id="18" assign="client" ownerContext="controlGraph2" userID="FLX" flexoID="28">
          <AssignableAction_AddFlexoConceptInstance id="19" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client.create" virtualModelInstance="data" userID="FLX" flexoID="27">
            <AddFlexoConceptInstanceParameter id="20" paramName="line" userID="FLX" flexoID="216" />
          </AssignableAction_AddFlexoConceptInstance>
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="21" assign="shape" ownerContext="controlGraph1" userID="FLX" flexoID="30">
          <AssignableAction_AddShape id="22" container="topLevel" userID="FLX" flexoID="29">
            <TypedDiagramModelSlot idref="14" />
          </AssignableAction_AddShape>
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
    </DropScheme>
    <CreationScheme id="32" name="create" width="800" label="create" height="600" userID="FLX" description="Creatre a Client representation" flexoID="68">
      <BehaviourControlGraph_Sequence id="33" userID="FLX" flexoID="77">
        <ControlGraph2_AssignationAction id="34" assign="shape" ownerContext="controlGraph2" userID="FLX" flexoID="75">
          <AssignableAction_AddShape id="35" userID="FLX" description="" flexoID="76">
            <TypedDiagramModelSlot idref="14" />
          </AssignableAction_AddShape>
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="36" assign="client" ownerContext="controlGraph1" userID="FLX" flexoID="72">
          <AssignableAction_ExpressionAction id="37" expression="parameters.client" userID="FLX" flexoID="71" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="38" container="data" isRequired="true" widget="CUSTOM_WIDGET" name="client" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client&gt;" userID="FLX" description="" flexoID="70" />
    </CreationScheme>
    <DeletionScheme id="39" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="78">
      <BehaviourControlGraph_DeleteAction id="40" object="shape" userID="FLX" flexoID="79" />
    </DeletionScheme>
    <Inspector id="41" inspectorTitle="ClientGR" userID="FLX" flexoID="15" />
  </FlexoConcept>
  <FlexoConcept id="42" name="SalesmanGR" userID="FLX" flexoID="224">
    <ShapeRole id="43" exampleLabel="Kelly" cloningStrategy="Clone" cardinality="ZeroOne" name="shape" userID="FLX" flexoID="225">
      <ShapeGraphicalRepresentation id="44" relativeTextY="0.5" locationConstraints="FREELY_MOVABLE" isFloatingLabel="false" allowToLeaveBounds="false" adaptBoundsToContents="false" x="84.0909090909091" y="80.0" relativeTextX="0.5" dimensionConstraints="FREELY_RESIZABLE" width="81.81818181818181" height="40.0" identifier="65d3a71d" layer="1">
        <SelectedColorBackgroundStyle id="45" color="254,247,217" transparencyLevel="0.5" />
        <ForegroundStyle id="46" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="47" color="254,247,217" transparencyLevel="0.5" />
        <ShadowStyle id="48" />
        <FocusedForegroundStyle id="49" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="50" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <ColorBackgroundStyle id="51" color="254,247,217" transparencyLevel="0.5" />
        <OvalShape id="52" />
        <TextStyle id="53" backgroundColor="255,255,255" color="0,0,0" font="Lucida Sans,0,11" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="54" featureName="label" readOnly="true" value="salesman.render" userID="FLX" flexoID="506" />
      <TypedDiagramModelSlot idref="14" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="55" virtualModelInstance="data" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman" cloningStrategy="Reference" cardinality="ZeroOne" name="salesman" userID="FLX" flexoID="226" />
    <DropScheme id="24" target="top" name="dropSalesmanGRAtTopLevel" width="800" label="dropSalesmanGRAtTopLevel" height="600" userID="FLX" flexoID="223">
      <BehaviourControlGraph_Sequence id="25" userID="FLX" flexoID="231">
        <ControlGraph2_AssignationAction id="26" assign="salesman" ownerContext="controlGraph2" userID="FLX" flexoID="228">
          <AssignableAction_AddFlexoConceptInstance id="27" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman.create" virtualModelInstance="data" userID="FLX" flexoID="227">
            <AddFlexoConceptInstanceParameter id="28" paramName="line" userID="FLX" flexoID="298" />
          </AssignableAction_AddFlexoConceptInstance>
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="29" assign="shape" ownerContext="controlGraph1" userID="FLX" flexoID="230">
          <AssignableAction_AddShape id="30" container="topLevel" userID="FLX" flexoID="229">
            <TypedDiagramModelSlot idref="14" />
          </AssignableAction_AddShape>
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
    </DropScheme>
    <CreationScheme id="56" name="create" width="800" label="create" height="600" userID="FLX" flexoID="249">
      <BehaviourControlGraph_Sequence id="57" userID="FLX" flexoID="256">
        <ControlGraph2_AssignationAction id="58" assign="salesman" ownerContext="controlGraph2" userID="FLX" flexoID="255">
          <AssignableAction_ExpressionAction id="59" expression="parameters.salesman" userID="FLX" flexoID="254" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="60" assign="shape" ownerContext="controlGraph1" userID="FLX" flexoID="252">
          <AssignableAction_AddShape id="61" container="topLevel" userID="FLX" flexoID="253">
            <TypedDiagramModelSlot idref="14" />
          </AssignableAction_AddShape>
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="62" container="data" isRequired="true" widget="CUSTOM_WIDGET" name="salesman" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://www.openflexo.org/ClientViewPoint/2016/12/Data#Salesman&gt;" userID="FLX" flexoID="251" />
    </CreationScheme>
    <DeletionScheme id="63" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="387">
      <BehaviourControlGraph_DeleteAction id="64" object="shape" userID="FLX" flexoID="384" />
    </DeletionScheme>
    <Inspector id="65" inspectorTitle="SalesmanGR" userID="FLX" flexoID="220" />
  </FlexoConcept>
  <FlexoConcept id="66" name="ClientSalemanRelationGR" userID="FLX" flexoID="306">
    <ConnectorRole id="67" exampleLabel="" cloningStrategy="Clone" cardinality="ZeroOne" name="connector" userID="FLX" flexoID="309">
      <ConnectorGraphicalRepresentation id="68" identifier="49634a9c" layer="64">
        <LineConnectorSpecification id="69" lineConnectorType="MINIMAL_LENGTH" startSymbol="NONE" middleSymbol="NONE" endSymbol="FILLED_ARROW" />
        <ForegroundStyle id="70" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <FocusedForegroundStyle id="71" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="72" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <TextStyle id="73" backgroundColor="255,255,255" color="0,0,0" font="Lucida Sans,0,11" />
      </ConnectorGraphicalRepresentation>
      <TypedDiagramModelSlot idref="14" />
    </ConnectorRole>
    <FlexoConceptInstanceRole id="74" virtualModelInstance="data" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client" cloningStrategy="Reference" cardinality="ZeroOne" name="client" userID="FLX" description="Client" flexoID="312">
      <VirtualModelInstanceModelSlot idref="75" />
    </FlexoConceptInstanceRole>
    <PrimitiveRole id="76" primitiveType="String" cloningStrategy="Clone" cardinality="ZeroOne" name="salesmanId" userID="FLX" flexoID="490" />
    <LinkScheme id="77" northDirectionSupported="true" eastDirectionSupported="true" fromTarget="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#ClientGR" toTarget="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#SalesmanGR" westDirectionSupported="true" isAvailableWithFloatingPalette="true" southDirectionSupported="true" name="linkClientGRToSalesmanGR" width="800" label="linkClientGRToSalesmanGR" height="600" userID="FLX" flexoID="305">
      <BehaviourControlGraph_Sequence id="78" userID="FLX" flexoID="369">
        <ControlGraph2_Sequence id="79" ownerContext="controlGraph2" userID="FLX" flexoID="461">
          <ControlGraph2_Sequence id="80" ownerContext="controlGraph2" userID="FLX" flexoID="460">
            <ControlGraph2_Sequence id="81" ownerContext="controlGraph2" userID="FLX" flexoID="487">
              <ControlGraph2_AssignationAction id="82" assign="salesmanId" ownerContext="controlGraph2" userID="FLX" flexoID="486">
                <AssignableAction_ExpressionAction id="83" expression="client.salesmanId" userID="FLX" flexoID="485" />
              </ControlGraph2_AssignationAction>
              <ControlGraph1_ExpressionAction id="84" expression="client.setSalesman(salesman)" ownerContext="controlGraph1" userID="FLX" description="" flexoID="459" />
            </ControlGraph2_Sequence>
            <ControlGraph1_DeclarationAction id="85" variable="salesman" ownerContext="controlGraph1" userID="FLX" flexoID="458">
              <AssignableAction_ExpressionAction id="86" expression="toTarget.salesman" userID="FLX" flexoID="457" />
            </ControlGraph1_DeclarationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_AssignationAction id="87" assign="client" ownerContext="controlGraph1" userID="FLX" flexoID="368">
            <AssignableAction_ExpressionAction id="88" expression="fromTarget.client" userID="FLX" flexoID="367" />
          </ControlGraph1_AssignationAction>
        </ControlGraph2_Sequence>
        <ControlGraph1_AssignationAction id="89" assign="connector" ownerContext="controlGraph1" userID="FLX" flexoID="311">
          <AssignableAction_AddConnector id="90" fromShape="fromTarget.shape" toShape="toTarget.shape" userID="FLX" flexoID="310">
            <TypedDiagramModelSlot idref="14" />
          </AssignableAction_AddConnector>
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
    </LinkScheme>
    <CreationScheme id="91" name="create" width="800" label="create" height="600" userID="FLX" flexoID="313">
      <BehaviourControlGraph_Sequence id="92" ownerContext="controlGraph2" userID="FLX" flexoID="397">
        <ControlGraph2_Sequence id="93" ownerContext="controlGraph2" userID="FLX" flexoID="425">
          <ControlGraph2_Sequence id="94" ownerContext="controlGraph2" userID="FLX" flexoID="428">
            <ControlGraph2_AssignationAction id="95" assign="connector" ownerContext="controlGraph2" userID="FLX" flexoID="426">
              <AssignableAction_AddConnector id="96" fromShape="froms.get(0).shape" toShape="tos.get(0).shape" userID="FLX" flexoID="427">
                <TypedDiagramModelSlot idref="14" />
              </AssignableAction_AddConnector>
            </ControlGraph2_AssignationAction>
            <ControlGraph1_DeclarationAction id="97" variable="tos" ownerContext="controlGraph1" userID="FLX" flexoID="421">
              <AssignableAction_SelectFlexoConceptInstance id="98" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#SalesmanGR" userID="FLX" flexoID="423">
                <Condition id="99" condition="(client.salesmanId = selected.salesman.id)" userID="FLX" flexoID="422" />
                <VirtualModelInstanceModelSlot idref="75" />
              </AssignableAction_SelectFlexoConceptInstance>
            </ControlGraph1_DeclarationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_DeclarationAction id="100" variable="froms" ownerContext="controlGraph1" userID="FLX" flexoID="417">
            <AssignableAction_SelectFlexoConceptInstance id="101" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#ClientGR" userID="FLX" flexoID="418">
              <Condition id="102" condition="(selected.client = client)" userID="FLX" flexoID="416" />
              <VirtualModelInstanceModelSlot idref="75" />
            </AssignableAction_SelectFlexoConceptInstance>
          </ControlGraph1_DeclarationAction>
        </ControlGraph2_Sequence>
        <ControlGraph1_AssignationAction id="103" assign="client" ownerContext="controlGraph1" userID="FLX" flexoID="394">
          <AssignableAction_ExpressionAction id="104" expression="parameters.client" userID="FLX" flexoID="393" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="105" container="virtualModelInstance" isRequired="true" widget="CUSTOM_WIDGET" name="client" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://www.openflexo.org/ClientViewPoint/2016/12/Data#Client&gt;" userID="FLX" flexoID="329" />
    </CreationScheme>
    <DeletionScheme id="106" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="375">
      <BehaviourControlGraph_DeleteAction id="107" object="connector" userID="FLX" flexoID="376" />
    </DeletionScheme>
    <Inspector id="108" inspectorTitle="ClientSalemanRelationGR" userID="FLX" flexoID="302" />
  </FlexoConcept>
  <ModelSlot_TypedDiagramModelSlot id="14" metaModelURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram/DataDiagramSpec" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="diagram" userID="FLX" flexoID="12">
    <FMLDiagramPaletteElementBinding id="15" paletteElementId="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram/DataDiagramSpec/Palette.palette#Client" userID="FLX" flexoID="32">
      <DropScheme idref="16" />
    </FMLDiagramPaletteElementBinding>
    <FMLDiagramPaletteElementBinding id="23" paletteElementId="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram/DataDiagramSpec/Palette.palette#Salesman" userID="FLX" flexoID="233">
      <DropScheme idref="24" />
    </FMLDiagramPaletteElementBinding>
    <TypedDiagramModelSlot idref="14" />
  </ModelSlot_TypedDiagramModelSlot>
  <ModelSlot_VirtualModelInstanceModelSlot id="75" virtualModelURI="http://www.openflexo.org/ClientViewPoint/2016/12/Data" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="data" userID="FLX" flexoID="8">
    <VirtualModelInstanceModelSlot idref="75" />
  </ModelSlot_VirtualModelInstanceModelSlot>
  <CreationScheme id="109" name="init" width="800" label="init" height="600" userID="FLX" description="Create diagram for data" flexoID="6">
    <BehaviourControlGraph_Sequence id="110" userID="FLX" flexoID="13">
      <ControlGraph2_AssignationAction id="111" assign="data" ownerContext="controlGraph2" userID="FLX" flexoID="11">
        <AssignableAction_ExpressionAction id="112" expression="parameters.data" userID="FLX" flexoID="10" />
      </ControlGraph2_AssignationAction>
      <ControlGraph1_AssignationAction id="113" assign="diagram" ownerContext="controlGraph1" userID="FLX" flexoID="7">
        <AssignableAction_CreateDiagram id="114" diagramSpecificationURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram/DataDiagramSpec" diagramName="&quot;diagram&quot;" resourceCenter="project" relativePath="/Diagrams" userID="FLX" flexoID="9">
          <TypedDiagramModelSlot idref="14" />
        </AssignableAction_CreateDiagram>
      </ControlGraph1_AssignationAction>
    </BehaviourControlGraph_Sequence>
    <GenericBehaviourParameter id="115" container="project" widget="CUSTOM_WIDGET" name="data" type="org.openflexo.foundation.fml.VirtualModelInstanceType&lt;http://www.openflexo.org/ClientViewPoint/2016/12/Data&gt;" userID="FLX" description="" flexoID="14" />
  </CreationScheme>
  <SynchronizationScheme id="116" name="synchronizationScheme" width="800" label="synchronizationScheme" height="600" userID="FLX" flexoID="34">
    <BehaviourControlGraph_Sequence id="117" ownerContext="controlGraph2" userID="FLX" flexoID="358">
      <ControlGraph2_IterationAction id="118" iteratorName="item" ownerContext="controlGraph2" userID="FLX" flexoID="340">
        <Iteration_ExpressionAction id="119" expression="data.clients" ownerContext="iterationControlGraph" userID="FLX" flexoID="342" />
        <ControlGraph_Sequence id="120" ownerContext="controlGraph" userID="FLX" flexoID="502">
          <ControlGraph2_MatchFlexoConceptInstance id="121" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#ClientSalemanRelationGR.create" virtualModelInstance="virtualModelInstance" ownerContext="controlGraph2" userID="FLX" flexoID="495">
            <MatchingCriteria id="122" patternRoleName="connector" userID="FLX" flexoID="497" />
            <MatchingCriteria id="123" patternRoleName="client" value="item" userID="FLX" flexoID="498" />
            <MatchingCriteria id="124" patternRoleName="salesmanId" value="item.salesmanId" userID="FLX" flexoID="499" />
            <CreateFlexoConceptInstanceParameter id="125" paramName="client" value="item" userID="FLX" flexoID="496" />
          </ControlGraph2_MatchFlexoConceptInstance>
          <ControlGraph1_MatchFlexoConceptInstance id="126" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#ClientGR.create" virtualModelInstance="virtualModelInstance" ownerContext="controlGraph1" userID="FLX" flexoID="344">
            <MatchingCriteria id="127" patternRoleName="shape" userID="FLX" flexoID="346" />
            <MatchingCriteria id="128" patternRoleName="client" value="item" userID="FLX" flexoID="347" />
            <CreateFlexoConceptInstanceParameter id="129" paramName="client" value="item" userID="FLX" flexoID="345" />
          </ControlGraph1_MatchFlexoConceptInstance>
        </ControlGraph_Sequence>
      </ControlGraph2_IterationAction>
      <ControlGraph1_IterationAction id="130" iteratorName="item" ownerContext="controlGraph1" userID="FLX" flexoID="258">
        <Iteration_ExpressionAction id="131" expression="data.salesmen" ownerContext="iterationControlGraph" userID="FLX" flexoID="260" />
        <ControlGraph_MatchFlexoConceptInstance id="132" creationSchemeURI="http://www.openflexo.org/ClientViewPoint/2016/12/DataDiagram#SalesmanGR.create" virtualModelInstance="virtualModelInstance" ownerContext="controlGraph" userID="FLX" flexoID="262">
          <MatchingCriteria id="133" patternRoleName="shape" userID="FLX" flexoID="264" />
          <MatchingCriteria id="134" patternRoleName="salesman" value="item" userID="FLX" flexoID="265" />
          <CreateFlexoConceptInstanceParameter id="135" paramName="salesman" value="item" userID="FLX" flexoID="263" />
        </ControlGraph_MatchFlexoConceptInstance>
      </ControlGraph1_IterationAction>
    </BehaviourControlGraph_Sequence>
  </SynchronizationScheme>
  <DeletionScheme id="136" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="81">
    <BehaviourControlGraph_EmptyControlGraph id="137" userID="FLX" flexoID="80" />
  </DeletionScheme>
  <Inspector id="138" inspectorTitle="DataDiagram" userID="FLX" flexoID="1" />
</VirtualModel>
